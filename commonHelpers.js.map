{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionSelector: \"img\",\n  captionDelay: 250,\n};\n\n\nexport default function searchImages(userSearch) {\n  const apiKey = \"42275750-ff2dba3de74b1266fbd0f53be\";\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${userSearch}&image_type=photo`\n  return fetch(url)\n    .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n    })\n    .then((data) => {\n      if (data.hits.length === 0) {\n        hideLoader();\n        iziToast.show({\n          position: 'topRight',\n          color: 'red',\n          message: `Sorry, there are no images matching<br>your search query. Please try again!`,\n        });\n      } else {        \n      showGallery(data);\n      hideLoader();\n      const lightbox = new SimpleLightbox('.gallery a', options);\n      lightbox.refresh();\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error fetching data:\", error);\n    });\n};\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport searchImages from \"./js/pixabay-api\"\nimport showGallery from \"./js/render-functions\"\n\n\nconst textInput = document.querySelector(\"#form\");\nconst button = document.querySelector(\".button\");\nconst gallery = document.querySelector(\".gallery\");\nconst block = document.querySelector(\".block\");\n\n\ntextInput.addEventListener(\"submit\", handleSubmit);\n\n// Function to show the loader\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  loader.textContent = \"Loading images, please wait...\";\n  block.append(loader);\n};\n\n// Function to hide the loader\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const userSearch = textInput.elements.query.value.trim();\n\n  if (userSearch === \"\") {\n    iziToast.show({\n        position: 'topRight',\n        color: 'red', // blue, red, green, yellow\n        message: \"Sorry, there are no images matching<br>your search query. Please try again!\",\n      });\n  } else {\n    showLoader();\n    searchImages(userSearch);\n    }; \n  textInput.reset();\n  removeGallery();\n};\n\n\nfunction removeGallery() {\n  gallery.innerHTML = '';\n};\n\n\n"],"names":["options","searchImages","userSearch","url","response","data","iziToast","SimpleLightbox","error","textInput","gallery","block","handleSubmit","showLoader","loader","e","removeGallery"],"mappings":"6vBAKA,MAAMA,EAAU,CACd,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,gBAAiB,MACjB,aAAc,GAChB,EAGe,SAASC,EAAaC,EAAY,CAE/C,MAAMC,EAAM,qEAA4CD,CAAU,oBAClE,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAK,EACA,KAAMC,GAAS,CACVA,EAAK,KAAK,SAAW,GACvB,aACAC,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,QAAS,6EACnB,CAAS,IAEH,YAAYD,CAAI,EAChB,aACiB,IAAIE,EAAe,aAAcP,CAAO,EAChD,QAAO,EAEtB,CAAK,EACA,MAAOQ,GAAU,CAChB,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,CACL,CClCA,MAAMC,EAAY,SAAS,cAAc,OAAO,EACjC,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EAG7CF,EAAU,iBAAiB,SAAUG,CAAY,EAGjD,MAAMC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,iCACrBH,EAAM,OAAOG,CAAM,CACrB,EAUA,SAASF,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMb,EAAaO,EAAU,SAAS,MAAM,MAAM,OAE9CP,IAAe,GACjBI,EAAS,KAAK,CACV,SAAU,WACV,MAAO,MACP,QAAS,6EACjB,CAAO,GAEHO,IACAZ,EAAaC,CAAU,GAEzBO,EAAU,QACVO,GACF,CAGA,SAASA,GAAgB,CACvBN,EAAQ,UAAY,EACtB"}