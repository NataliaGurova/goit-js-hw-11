{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst textInput = document.querySelector(\"#form\");\nconst button = document.querySelector(\".button\");\nconst gallery = document.querySelector(\".gallery\");\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionSelector: \"img\",\n  captionDelay: 250,\n};\n\n\ntextInput.addEventListener(\"submit\", handleSubmit);\n\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  \n  const userSearch = textInput.elements.query.value.trim();\n\n  if (userSearch === \"\") {\n    iziToast.show({\n        position: 'topRight',\n        color: 'red', // blue, red, green, yellow\n        message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n      });\n  } else {\n    searchName(userSearch);\n    const lightbox = new SimpleLightbox('.gallery a', options);\n    lightbox.on(\"show.simplelightbox\");\n    lightbox.refresh();\n\n    }; \n    console.log(userSearch);\n  textInput.reset();\n  removeGallery();\n  }\n\n\nfunction searchName(userSearch) {\n  const apiKey = \"42275750-ff2dba3de74b1266fbd0f53be\";\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${userSearch}&image_type=photo`\n  return fetch(url)\n    .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n    })\n    .then((data) => {\n      console.log(data);\n      showGallery(data);\n\n    })\n    .catch((error) => {\n      console.error(\"Error fetching data:\", error);\n    });\n}\n\nfunction showGallery(data) {\n  const markup = data.hits\n    .map((item) => {\n      const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = item;\n      return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n          </a>\n          <div>\n            <p><b>Likes </b>${likes}</p>\n            <p><b>Views </b>${views}</p>\n            <p><b>Comments </b>${comments}</p>\n            <p><b>Downloads </b>${downloads}</p>\n          </div>\n        </li>\n      `;\n    })\n    .join(\"\");\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n}\n\n\nfunction removeGallery() {\n  gallery.innerHTML = '';\n}\n\n\n"],"names":["textInput","gallery","options","handleSubmit","e","userSearch","iziToast","searchName","lightbox","SimpleLightbox","removeGallery","url","response","data","showGallery","error","markup","item","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAMA,MAAMA,EAAY,SAAS,cAAc,OAAO,EACjC,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAU,CACd,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,gBAAiB,MACjB,aAAc,GAChB,EAGAF,EAAU,iBAAiB,SAAUG,CAAY,EAGjD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAaL,EAAU,SAAS,MAAM,MAAM,OAElD,GAAIK,IAAe,GACjBC,EAAS,KAAK,CACV,SAAU,WACV,MAAO,MACP,QAAS,4EACjB,CAAO,MACE,CACLC,EAAWF,CAAU,EACrB,MAAMG,EAAW,IAAIC,EAAe,aAAcP,CAAO,EACzDM,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CAEpB,CACI,QAAQ,IAAIH,CAAU,EACxBL,EAAU,MAAK,EACfU,GACC,CAGH,SAASH,EAAWF,EAAY,CAE9B,MAAMM,EAAM,qEAA4CN,CAAU,oBAClE,OAAO,MAAMM,CAAG,EACb,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAK,EACA,KAAMC,GAAS,CACd,QAAQ,IAAIA,CAAI,EAChBC,EAAYD,CAAI,CAEtB,CAAK,EACA,MAAOE,GAAU,CAChB,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,CACL,CAEA,SAASD,EAAYD,EAAM,CACzB,MAAMG,EAASH,EAAK,KACjB,IAAKI,GAAS,CACb,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,0CAE6BC,CAAa;AAAA,4CACXC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,8BAGxCC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,OAI3C,CAAK,EACA,KAAK,EAAE,EACVvB,EAAQ,mBAAmB,YAAae,CAAM,CAChD,CAGA,SAASN,GAAgB,CACvBT,EAAQ,UAAY,EACtB"}